node {
	stage('SCM') {
		echo 'Gathering code from version control'
		git branch: '${branch}', url: 'https://github.com/thang-thai/JenkinsGroovy.git'
	}

    stage('Build') {
		try {
			echo 'Building....'
			bat 'dotnet --version'
			bat 'dotnet build ConsoleApp1'
			echo 'Building new feature'
		}
		catch (ex) {
			echo 'Something went wrong'
		}
    }

	stage('Test') {
		echo 'Testing...'
	}

	stage('Deploy') {
		echo 'Deploying...'
	}
}
